const e=()=>{const e=Array.from(document.querySelectorAll(".pager ~ ol > li")),t=document.querySelector(".pager > b").textContent.trim(),n=document.querySelector("p.res:nth-child(2n)").textContent.trim().replaceAll('"',"");(()=>{const t=document.createElement("style");t.innerHTML="\n            .pager ~ ol ul {\n                padding-left: 0;\n            }\n\n            .pager ~ ol li table td:first-child {\n                display: flex;\n            }\n\n            .rkd {\n                position: sticky;\n                top: 1rem;\n                left: 1rem;\n            }\n        ",document.head.appendChild(t);const n=document.createElement("div");n.classList.add("rkd"),n.innerHTML='\n            <button type="button" id="rkd-download">\n                Скачать выбранное\n            </button>\n        ';const o=document.querySelector(".pager");o.parentNode.insertBefore(n,o.nextSibling),e.forEach((e=>{const t=e.querySelector("tr"),n=t.firstChild,o=document.createElement("input");o.setAttribute("type","checkbox"),o.setAttribute("title","Скачать этот пример"),o.classList.add("rkd-checkbox");const l=document.createElement("td");l.appendChild(o),t.insertBefore(l,n)}))})(),document.getElementById("rkd-download").addEventListener("click",(()=>{const o=`\n            <ol>\n                ${e.filter((e=>{const t=e.querySelector(".rkd-checkbox");return t&&t.checked})).map((e=>({heading:e.querySelector("span.b-doc-expl").textContent.trim(),text:e.querySelector("li").textContent.replace("[омонимия снята]","").replace("[омонимия не снята]","").replace("←…→","").trim().replaceAll(n,`<b>${n}</b>`)}))).map((e=>`\n            <li>\n                <p><b>${e.heading}</b></p>\n                <p>${e.text}</p>\n            </li>\n        `)).join("\n")}\n            </ol>\n        `,l=`${n} (стр. ${t}).html`;((e,t,n)=>{const o=new Blob([e],{type:t}),l=document.createElement("a");l.download=n,l.href=URL.createObjectURL(o),l.dataset.downloadurl=[t,l.download,l.href].join(":"),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l),setTimeout((()=>URL.revokeObjectURL(l.href)),1500)})(`\n    <!DOCTYPE html>\n    <html lang="ru">\n\n    <head>\n        <meta charset="utf-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">\n        <meta http-equiv="X-UA-Compatible" content="IE=edge">\n\n        <title>${l}</title>\n        <style>\n            body {\n                max-width: 50rem;\n                line-height: 1.5;\n                margin: 3rem auto;\n            }\n        </style>\n    </head>\n\n    <body>\n        ${o}\n    </body>\n\n    </html>\n`,"text/html",l)}))};"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e);